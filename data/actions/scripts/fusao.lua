----------------------------------------------- FUSION SYSTEM ---------------- Ideia Original por: Dias Otonwer ------- Melhorado por: Duduzz ------------------------------------------------           function onUse(cid,item,fromPosition,itemEx,toPosition)---------------------------------------- Configuração -------------------------------------------- Item 1 -> pedaco de ferro ; Item 2 -> gemaslocal steel = 5889  -- id do pedaço de ferro ou a materia prima pra fusao. obs: APENAS 1 IDlocal gems = {2153,2154,2155,2156}  -- id das gemas ou do segundo item para fusao. obs: 2 OU MAIS IDS-- Item 3 -> frozen starlight ou wooden trash (configurável)local item3 = 2361 -- id do item para criar items raros (frozen starlight). obs: APENAS 1 IDlocal item4 = 2250 -- id do item para criar items fracos (wooden trash). obs: APENAS 1 IDlocal premios = {2392,2393,2414,7748,2407} -- premios fracos. obs: 2 OU MAIS IDSlocal premiosraros = {2431,2447,8925,2400,7382}  -- premios raros. obs: 2 OU MAIS IDSlocal pos1 = {x=207,y=348,z=7,stackpos=255} -- posicao do item 1local pos2 = {x=209,y=348,z=7,stackpos=255} -- posicao do item 2local pos3 = {x=211,y=348,z=7,stackpos=255} -- posicao do item 3local pos4 = {x=213,y=348,z=7,stackpos=255} -- posicao do item criado---------------------------------- Não mexa em nada abaixo!!! ----------------------------------local getpos = {getThingFromPos(pos1),getThingFromPos(pos2),getThingFromPos(pos3)} local randfacil = math.random(1,table.getn(premios))local resultado = premios[randfacil]local randdificil = math.random(1,table.getn(premiosraros))local resultado1 = premiosraros[randdificil]                      if itemEx.itemid == 1945 then   if getpos[1].itemid == steel then      if isInArray(gems,getpos[2].itemid) == TRUE and getpos[3].itemid == item4 then         doCreateItem(resultado,1,pos4)         doRemoveItem(getpos[1].uid,1)         doRemoveItem(getpos[2].uid,1)         doRemoveItem(getpos[3].uid,1)         doSendMagicEffect(pos4,13)         doSendMagicEffect(pos2,13)         doSendMagicEffect(pos1,13)         doPlayerSendTextMessage(cid,20,"Voce forjou uma arma!")         doTransformItem(itemEx.uid,itemEx.itemid+1)      elseif isInArray(gems,getpos[2].itemid) == TRUE and getpos[3].itemid == item3 then         doCreateItem(resultado1,1,pos4)         doRemoveItem(getpos[1].uid,1)         doRemoveItem(getpos[2].uid,1)         doRemoveItem(getpos[3].uid,1)         doSendMagicEffect(pos4,13)         doSendMagicEffect(pos2,13)         doSendMagicEffect(pos1,13)         doPlayerSendTextMessage(cid,20,"Voce forjou uma arma rara!")         doTransformItem(itemEx.uid,itemEx.itemid+1)     else        doPlayerSendCancel(cid,"Os items estao errados ou sua ordem esta incorreta.")      endelse doPlayerSendCancel(cid,"Voce precisa primeiramente de um pedaco de ferro.")endelseif itemEx.uid == 5396 and itemEx.itemid == 1946 then     doTransformItem(itemEx.uid,1945)else    doPlayerSendCancel(cid,"Impossivel")endreturn 1end  
