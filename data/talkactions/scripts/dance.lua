function onSay(cid, words, param)local access = 1local time = 500   -- efeito da dançaif (param == "play") or (param == "") then        if (getPlayerAccess(cid) >= access) then                local players = getOnlinePlayers()                for i, v in ipairs(players) do                        local current = getPlayerByName(v)                        if (isPlayer(current) == TRUE) then                                local x = {cid = current, time = time}                                Effect(x)                                setPlayerStorageValue(current,5842,2)                        end                end                local message = "".. #players .." players are dancing."                if (#players == 1) then                        message = "".. #players .." player is dancing."                end                doPlayerSendTextMessage(cid,MESSAGE_STATUS_CONSOLE_BLUE,message)        else                doPlayerSendCancel(cid,"You are not a gamemaster.")        endelseif (param == "stop") then        if (getPlayerAccess(cid) >= access) then                local players = getOnlinePlayers()                for i, v in ipairs(players) do                        local current = getPlayerByName(v)                        if (isPlayer(current) == TRUE) then                                setPlayerStorageValue(current,5842,1)                        end                end        else                doPlayerSendCancel(cid,"You are not a gamemaster.")        endendendfunction Effect(x)local Effects = math.random(18,24)if (Effects == 20) then        Effects = 21endif (isPlayer(x.cid) == TRUE) then        if (getPlayerStorageValue(x.cid,5842) == -1) or (getPlayerStorageValue(x.cid,5842) == 2) then                x = {cid = x.cid, time = x.time}                doSendMagicEffect(getPlayerPosition(x.cid), Effects)                addEvent(Effect,x.czas,x)        endendend